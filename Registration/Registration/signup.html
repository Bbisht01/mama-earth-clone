<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Roboto&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/2/2.1.0/iconify.min.js"></script>
    <link rel="stylesheet" href="signup.css">
</head>
<body>

    <div id="signupCont">
        <a href="login.html"><div id="signupCont-icn"><span class="iconify" data-icon="ant-design:arrow-left-outlined"></span></div></a>
        <div id="signupContent">

            <h3>Signup for the Goodness Inside</h3>
            <fieldset id="f1">
                 <input id="signupContent-inp-a" class="signupContent-inp" type="text" placeholder="Phone Number"> 
                <legend>Phone Number</legend>  
              </fieldset>
              <p id="alertP"></p>

              <fieldset id="f2">
                <input id="signupContent-inp-c" class="signupContent-inp" type="text" placeholder="Email">
               <legend>Email</legend>
               </fieldset>
               <p id="alertE"></p>

               <fieldset>
                <input id="username" class="signupContent-inp" type="text" placeholder="username">
               <legend>Username</legend>
               </fieldset>

               <fieldset>
                <input id="signupContent-inp-d" class="signupContent-inp" type="password" placeholder="password">
               <legend>Password</legend>
               </fieldset>

            <div id="signup-btn">
              <button >SignUp</button>
            </div>


        </div>

    </div>
    
</body>
</html>
<script>

document.querySelector('button').addEventListener('click',signUp);
var userArr = JSON.parse(localStorage.getItem('userData')) || [];

let f1 = document.getElementById('f1')
let f2 = document.getElementById('f2')
let alertP = document.getElementById('alertP')
let alertE = document.getElementById('alertE')



function signUp(){
    var phone = document.getElementById('signupContent-inp-a').value
    var username = document.getElementById('username').value
    var Email = document.getElementById('signupContent-inp-c').value;
    var pass = document.getElementById('signupContent-inp-d').value;

    var count = 0;
    for(var i = 0 ; i<Email.length;i++){
        if(Email[i] == '@'){
            count = 1
        }
    }

    if(count == 0){
        f2.style.borderColor = "red";
    alertE.textContent = "* INVALID EMAIL"
    alertE.style.color = "red";
    }else{
   
if(phone.length<10){
    
    f1.style.borderColor = 'red';
        alertP.textContent = "* INVALID PHONE NO"
        alertP.style.color = "red"
    
}else{

var userCredentials = {
    email:Email,
    passWord:pass,
    phoneNo:phone,
    userName:username,
    
};

userArr.push(userCredentials);
localStorage.setItem('userDetail',JSON.stringify(userArr));

alert('Signup Succesful')
window.location.href = "login.html"
}

}
}
</script>
